var t={connect:function(t,i,e,r,n,o,l,a,u,c,d,g,s,f,W,D){!function(){for(let t=0;t<arguments.length;t++){const i=arguments[t];void 0!==i&&pinMode(i,"output")}}(t,i,e,r,n,o,l,u,c,d,a,f,g,s,W,D),digitalWrite(d,1),digitalWrite(a,1),digitalWrite(f,1),digitalWrite(s,0),digitalWrite(g,1),void 0!==W&&digitalWrite(W,0),void 0!==D&&digitalWrite(D,0);let m="",h=0,p=void 0,v=!1,T=void 0;function w(t){const i=3-t;digitalWrite(c,(2&i)>>1),digitalWrite(u,(1&i)>>0)}function C(a,u){w(u);const c=a.charCodeAt(0);digitalWrite(l,(64&c)>>6),digitalWrite(o,(32&c)>>5),digitalWrite(n,(16&c)>>4),digitalWrite(r,(8&c)>>3),digitalWrite(e,(4&c)>>2),digitalWrite(i,(2&c)>>1),digitalWrite(t,(1&c)>>0),digitalWrite(d,0),digitalWrite(d,1)}function O(t){for(let i=0;i<4;i++)C(t[i]||" ",i)}function b(){A(p)}function S(i,e){digitalWrite(s,1),w(i),digitalWrite(t,!e),digitalWrite(g,0),digitalWrite(d,0),digitalWrite(d,1),digitalWrite(g,1)}function A(t){void 0!==t&&clearInterval(t)}return{writeChar:C,write:O,scroll:function(t,i){b(),m=t,h=0,i=i||300,m.length<=4?O(m):p=setInterval(()=>function(){const t=m.substr(h,4),i=Math.max(0,m.length-3);h=(h+1)%i,O(t),console.log("updatescroll",(new Date).getTime())}(),i)},stopScroll:b,clear:function(){digitalWrite(f,0),digitalWrite(f,1)},turnOff:function(){digitalWrite(a,0),A(p),A(T)},turnOn:function(){digitalWrite(a,1)},setCursor:S,unsetCursor:function(t){return S(t,!0)},flashCursor:function(t){A(T),!1!==t&&("number"!=typeof t&&(t=300),T=setInterval(()=>{digitalWrite(s,v),v=!v,console.log("flash",Number((new Date).getTime()))},t))},stopFlash:function(){A(T)}}}};E.setTimeZone(-7);const i=t.connect(D3,D31,D30,D29,D26,D27,D28,D25,D14,D15,D16,D17,D18,D19,D20,D22);i.clear(),i.write("HACK");let e,r="off";function n(){i.turnOn(),void 0!==e&&clearTimeout(e),e=setTimeout(()=>{i.turnOff(),i.stopScroll(),r="off"},4e3)}setTimeout(()=>{i.turnOff()},4e3),setWatch(()=>{"off"===r?(r="time",i.write((()=>{const t=new Date,i=""+t.getHours(),e=("0"+t.getMinutes()).substr(-2);return i.length>1?i+e:i+":"+e})()),n()):"time"===r?(r="date",i.scroll((new Date).toString().substr(0,15).toUpperCase()),n()):"date"===r?(r="message",i.scroll("ADAFRUIT SHOW N TELL"),n()):(i.stopScroll(),r="off",i.turnOff())},BTN1,{repeat:!0,edge:"rising",debounce:10});
